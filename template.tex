%%
%%  make bookmark template
%%

%% typeset: use lualatex
\documentclass{ltjsbook}
% \documentclass[uplatex,dvipdfmx]{jsbook}

\usepackage{hyperref}
\hypersetup{
  % pdfusetitle, % derive the values for pdftitle and pdfauthor from \title and \author
  pdftitle={相対論的物理学のききどころ},
  pdfauthor={和田純夫},
  pdfsubject={物理講義のききどころ6},
  % pdfcreator={creator: unko},
  % pdfproducer={producer: unko},
  pdfkeywords={教科書, 専門書, 物理学, 相対論},
  bookmarksopen, % open up bookmark tree
}
\usepackage{bookmark}
\usepackage{pdfpages}

%% enter pdf name
\newcommand\pdfName{kikidokoro.pdf}
% \newcommand\pdfName{3000083652-1.pdf}

%% enter front page num
\newcommand\noPages{8} % 表紙からページ番号が始まる(front)までのページ数
\newcommand\frontPages{14} % frontのページ数

%%%% - - - - - macros - - - - - %%%%
%% set pages
\newcommand\beginFrontPage{\the\numexpr \noPages+1\relax} % frontの開始ページ
\newcommand\lastFrontPage{\the\numexpr \noPages+\frontPages\relax} % frontの終わりページ
\newcommand\beginMainPage{\the\numexpr \lastFrontPage+1\relax} % mainの開始ページ

%% Usage: \mainbookmark{level}{page}{title}
\newcommand\frontbookmark[3]{%
  \edef\temp{\noexpand\bookmark[page=\the\numexpr \noPages+#2\relax,level=#1]}%
  \temp{#3}%
}
\newcommand\mainbookmark[3]{%
  \edef\temp{\noexpand\bookmark[page=\the\numexpr \lastFrontPage+#2\relax,level=#1]}%
  \temp{#3}%
}
%%%% - - - - - - - - - - - - - - %%%%

\begin{document}

%% include pdf
\pagenumbering{Roman}
\includepdf[pages=1-\noPages,fitpaper]{\pdfName}
\pagenumbering{roman}
\includepdf[pages=\beginFrontPage-\lastFrontPage,fitpaper]{\pdfName}
\pagenumbering{arabic}
\includepdf[pages=\beginMainPage-,fitpaper]{\pdfName}

%%
%% make bookmark
%%
\bookmark[level=2,page=1]{表紙（カバー）}
%% front
\frontbookmark{0}{1}{表紙}
\frontbookmark{0}{5}{はじめに}
\frontbookmark{0}{11}{目次}
%% main
\mainbookmark{0}{1}{第I部 特殊相対論}
\mainbookmark{1}{1}{1 特殊相対論の時空}
\mainbookmark{2}{2}{1.1 光速度不変性}
\mainbookmark{2}{4}{1.2 事象の同時性}
\mainbookmark{2}{6}{1.3 ローレンツ変換}



\end{document}
%% EOF